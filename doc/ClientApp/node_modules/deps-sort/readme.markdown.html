<!DOCTYPE html>
<html>
<head>
  <title>readme.markdown</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../doc-style.css" />
  <script src="../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../";
    var thisFile = "ClientApp\\node_modules\\deps-sort\\readme.markdown";
    var defaultSidebar = true;
  </script>
  <script src="../../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#deps-sort">deps-sort</a>
      </div>

      <div class="heading h1">
        <a href="#example">example</a>
      </div>

      <div class="heading h2">
        <a href="#command-line">command-line</a>
      </div>

      <div class="heading h2">
        <a href="#api">api</a>
      </div>

      <div class="heading h1">
        <a href="#methods">methods</a>
      </div>

      <div class="heading h2">
        <a href="#var-stream-depssort-opts">var stream = depsSort(opts)</a>
      </div>

      <div class="heading h1">
        <a href="#install">install</a>
      </div>

      <div class="heading h1">
        <a href="#license">license</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="docs markdown"><div class="pilwrap" id="deps-sort">
  <h1>
    <a href="#deps-sort" name="deps-sort" class="pilcrow"></a>
deps-sort
  </h1>
</div>
<p>sort <a href="https://npmjs.org/package/module-deps">module-deps</a> output for deterministic
browserify bundles</p>
<p><a href="http://travis-ci.org/substack/deps-sort"><img src="https://secure.travis-ci.org/substack/deps-sort.png" alt="build status"></a></p>
<div class="pilwrap" id="example">
  <h1>
    <a href="#example" name="example" class="pilcrow"></a>
example
  </h1>
</div>
<div class="pilwrap" id="command-line">
  <h2>
    <a href="#command-line" name="command-line" class="pilcrow"></a>
command-line
  </h2>
</div>
<pre><code>$ for((i=0;i&lt;5;i++)); do module-deps main.js | deps-sort | browser-pack | md5sum; done
e9e630de2c62953140357db0444c3c3a  -
e9e630de2c62953140357db0444c3c3a  -
e9e630de2c62953140357db0444c3c3a  -
e9e630de2c62953140357db0444c3c3a  -
e9e630de2c62953140357db0444c3c3a  -
</code></pre>
<p>or using <code>browserify --deps</code> on a <a href="http://voxeljs.com/">voxeljs</a> project:</p>
<pre><code>$ for((i=0;i&lt;5;i++)); do browserify --deps browser.js | deps-sort | browser-pack | md5sum; done
fb418c74b53ba2e4cef7d01808b848e6  -
fb418c74b53ba2e4cef7d01808b848e6  -
fb418c74b53ba2e4cef7d01808b848e6  -
fb418c74b53ba2e4cef7d01808b848e6  -
fb418c74b53ba2e4cef7d01808b848e6  -
</code></pre>
<div class="pilwrap" id="api">
  <h2>
    <a href="#api" name="api" class="pilcrow"></a>
api
  </h2>
</div>
<p>To use this module programmatically, write streaming object data and read
streaming object data:</p>
<pre><code class="js"><span class="hljs-keyword">var</span> sort = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../'</span>)();
<span class="hljs-keyword">var</span> JSONStream = <span class="hljs-built_in">require</span>(<span class="hljs-string">'JSONStream'</span>);
<span class="hljs-keyword">var</span> parse = JSONStream.parse([ <span class="hljs-literal">true</span> ]);
<span class="hljs-keyword">var</span> stringify = JSONStream.stringify();

process.stdin.pipe(parse).pipe(sort).pipe(stringify).pipe(process.stdout);
</code></pre>
<div class="pilwrap" id="methods">
  <h1>
    <a href="#methods" name="methods" class="pilcrow"></a>
methods
  </h1>
</div>
<pre><code class="js"><span class="hljs-keyword">var</span> depsSort = <span class="hljs-built_in">require</span>(<span class="hljs-string">'deps-sort'</span>);
</code></pre>
<div class="pilwrap" id="var-stream-depssort-opts">
  <h2>
    <a href="#var-stream-depssort-opts" name="var-stream-depssort-opts" class="pilcrow"></a>
var stream = depsSort(opts)
  </h2>
</div>
<p>Return a new through <code>stream</code> that should get written
<a href="https://npmjs.org/package/module-deps">module-deps</a> objects and will output
sorted objects.</p>
<p><code>opts</code> can be:</p>
<ul>
<li>
<p><code>opts.index</code> - when true, for each module-deps row, insert <code>row.index</code> with
the numeric index and <code>row.indexDeps</code> like <code>row.deps</code> but mapping require
strings to row indices</p>
</li>
<li>
<p><code>opts.expose</code> - array of names or object mapping names to <code>true</code> not to mangle
with integer indexes when <code>opts.index</code> is turned on. If <code>opts.expose</code> maps names
to strings, those strings will be used to resolve the indexed references.</p>
</li>
<li>
<p><code>opts.dedupe</code> - set <code>row.dedupe</code> for files that match existing contents. Sets
<code>row.dedupeIndex</code> when <code>opts.index</code> is enabled. When <code>row.dedupe</code> is set,
<code>row.sameDeps</code> will be set to a boolean of whether the dependencies at the
dedupe target match (true) or just the source content (false).</p>
</li>
</ul>
<div class="pilwrap" id="install">
  <h1>
    <a href="#install" name="install" class="pilcrow"></a>
install
  </h1>
</div>
<p>With <a href="https://npmjs.org">npm</a> do:</p>
<pre><code>npm install deps-sort
</code></pre>
<div class="pilwrap" id="license">
  <h1>
    <a href="#license" name="license" class="pilcrow"></a>
license
  </h1>
</div>
<p>MIT</p>
</div>
  </div>
</body>
</html>
