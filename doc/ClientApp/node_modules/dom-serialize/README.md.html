<!DOCTYPE html>
<html>
<head>
  <title>README.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../../doc-style.css" />
  <script src="../../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../../";
    var thisFile = "ClientApp\\node_modules\\dom-serialize\\README.md";
    var defaultSidebar = true;
  </script>
  <script src="../../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#dom-serialize">dom-serialize</a>
      </div>

      <div class="heading h3">
        <a href="#serializes-any-dom-node-into-a-string">Serializes any DOM node into a String</a>
      </div>

      <div class="heading h2">
        <a href="#installation">Installation</a>
      </div>

      <div class="heading h2">
        <a href="#example">Example</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="docs markdown"><div class="pilwrap" id="dom-serialize">
  <h1>
    <a href="#dom-serialize" name="dom-serialize" class="pilcrow"></a>
dom-serialize
  </h1>
</div>
<div class="pilwrap" id="serializes-any-dom-node-into-a-string">
  <h3>
    <a href="#serializes-any-dom-node-into-a-string" name="serializes-any-dom-node-into-a-string" class="pilcrow"></a>
Serializes any DOM node into a String
  </h3>
</div>
<p><a href="https://saucelabs.com/u/dom-serialize"><img src="https://saucelabs.com/browser-matrix/dom-serialize.svg" alt="Sauce Test Status"></a></p>
<p><a href="https://travis-ci.org/webmodules/dom-serialize"><img src="https://travis-ci.org/webmodules/dom-serialize.svg?branch=master" alt="Build Status"></a></p>
<p>It's like <code>outerHTML</code>, but it works with:</p>
<ul>
<li>DOM elements</li>
<li>Text nodes</li>
<li>Attributes</li>
<li>Comment nodes</li>
<li>Documents</li>
<li>DocumentFragments</li>
<li>Doctypes</li>
<li>NodeLists / Arrays</li>
</ul>
<p>For custom serialization logic, a &quot;serialize&quot; event is dispatched on
every <code>Node</code> which event listeners can override the default behavior on by
setting the <code>event.detail.serialize</code> property to a String or other Node.</p>
<p>The &quot;serialize&quot; event bubbles, so it could be a good idea to utilize
event delegation on a known root node that will be serialized.
Check the <code>event.serializeTarget</code> property to check which <code>Node</code> is
currently being serialized.</p>
<div class="pilwrap" id="installation">
  <h2>
    <a href="#installation" name="installation" class="pilcrow"></a>
Installation
  </h2>
</div>
<pre><code class="bash">$ npm install dom-serialize
</code></pre>
<div class="pilwrap" id="example">
  <h2>
    <a href="#example" name="example" class="pilcrow"></a>
Example
  </h2>
</div>
<pre><code class="js"><span class="hljs-keyword">var</span> serialize = <span class="hljs-built_in">require</span>(<span class="hljs-string">'dom-serialize'</span>);
<span class="hljs-keyword">var</span> node;

<span class="hljs-comment">// works with Text nodes</span>
node = <span class="hljs-built_in">document</span>.createTextNode(<span class="hljs-string">'foo &amp; &lt;bar&gt;'</span>);
<span class="hljs-built_in">console</span>.log(serialize(node));


<span class="hljs-comment">// works with DOM elements</span>
node = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'body'</span>);
node.appendChild(<span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'strong'</span>));
node.firstChild.appendChild(<span class="hljs-built_in">document</span>.createTextNode(<span class="hljs-string">'hello'</span>));
<span class="hljs-built_in">console</span>.log(serialize(node));


<span class="hljs-comment">// custom "serialize" event</span>
node.firstChild.addEventListener(<span class="hljs-string">'serialize'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) </span>{
  event.detail.serialize = <span class="hljs-string">'pwn'</span>;
}, <span class="hljs-literal">false</span>);
<span class="hljs-built_in">console</span>.log(serialize(node));


<span class="hljs-comment">// you can also just pass a function in for a one-time serializer</span>
<span class="hljs-built_in">console</span>.log(serialize(node, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) </span>{
  <span class="hljs-keyword">if</span> (event.serializeTarget === node.firstChild) {
    <span class="hljs-comment">// for the first child, output an ellipsis to summarize "content"</span>
    event.detail.serialze = <span class="hljs-string">'…'</span>;
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (event.serializeTarget !== node) {
    <span class="hljs-comment">// any other child</span>
    event.preventDefault();
  }
}));
</code></pre>
<pre><code>foo &amp;amp; &amp;lt;bar&amp;gt;
&lt;body&gt;&lt;strong&gt;hello&lt;/strong&gt;&lt;/body&gt;
&lt;body&gt;pwn&lt;/body&gt;
&lt;body&gt;…&lt;/body&gt;
</code></pre>
</div>
  </div>
</body>
</html>
